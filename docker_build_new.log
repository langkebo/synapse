#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile.multistage
#1 transferring dockerfile: 7.28kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/debian:bookworm-slim
#2 DONE 1.2s

#3 [internal] load metadata for docker.io/library/rust:1-alpine
#3 DONE 1.6s

#4 [builder 1/5] FROM docker.io/library/rust:1-alpine@sha256:69d7b9d9aeaf108a1419d9a7fcf7860dcc043e9dbd1ab7ce88e44228774d99e9
#4 resolve docker.io/library/rust:1-alpine@sha256:69d7b9d9aeaf108a1419d9a7fcf7860dcc043e9dbd1ab7ce88e44228774d99e9 0.0s done
#4 CACHED

#5 [runtime 1/9] FROM docker.io/library/debian:bookworm-slim@sha256:98f4b71de414932439ac6ac690d7060df1f27161073c5036a7553723881bffbe
#5 resolve docker.io/library/debian:bookworm-slim@sha256:98f4b71de414932439ac6ac690d7060df1f27161073c5036a7553723881bffbe 0.0s done
#5 DONE 0.0s

#6 [runtime 3/9] RUN groupadd --system synapse &&     useradd --system --gid synapse --home-dir /app --shell /usr/sbin/nologin synapse
#6 CACHED

#7 [runtime 2/9] RUN apt-get update && apt-get install -y --no-install-recommends     libpq5     libssl3     ca-certificates     curl     && rm -rf /var/lib/apt/lists/*     && apt-get clean
#7 CACHED

#8 [runtime 4/9] RUN mkdir -p /app/bin /app/data /app/logs /app/config &&     chown -R synapse:synapse /app &&     chmod 755 /app
#8 CACHED

#9 [builder 2/5] RUN apk add --no-cache     musl-dev     openssl-dev     openssl-libs-static     postgresql-dev     pkgconfig
#9 15.61 ( 1/35) Installing pkgconf (2.5.1-r0)
#9 16.02 ( 2/35) Installing openssl-dev (3.5.5-r0)
#9 17.57 ( 3/35) Installing openssl-libs-static (3.5.5-r0)
#9 90.30 ( 4/35) Installing libpq (18.1-r0)
#9 90.90 ( 5/35) Installing libpq-dev (18.1-r0)
#9 93.57 ( 6/35) Installing libecpg (18.1-r0)
#9 94.03 ( 7/35) Installing libecpg-dev (18.1-r0)
#9 95.94 ( 8/35) Installing clang20-headers (20.1.8-r1)
#9 101.1 ( 9/35) Installing libffi (3.5.2-r0)
#9 101.3 (10/35) Installing xz-libs (5.8.2-r0)
#9 101.8 (11/35) Installing libxml2 (2.13.9-r0)
#9 104.3 (12/35) Installing llvm20-libs (20.1.8-r0)
#9 424.4 (13/35) Installing clang20-libs (20.1.8-r1)
#9 609.0 (14/35) Installing fortify-headers (1.1-r5)
#9 609.3 (15/35) Installing libstdc++-dev (15.2.0-r2)
#9 630.8 (16/35) Installing llvm20-linker-tools (20.1.8-r0)
#9 631.5 (17/35) Installing clang20 (20.1.8-r1)
#9 633.5 (18/35) Installing icu-data-en (76.1-r1)
#9 640.1   Executing icu-data-en-76.1-r1.post-install
#9 640.1   * 
#9 640.1   * If you need ICU with non-English locales and legacy charset support, install
#9 640.1   * package icu-data-full.
#9 640.1   * 
#9 640.1 (19/35) Installing icu-libs (76.1-r1)
#9 649.5 (20/35) Installing icu (76.1-r1)
#9 651.0 (21/35) Installing icu-dev (76.1-r1)
#9 656.3 (22/35) Installing brotli-libs (1.2.0-r0)
#9 658.6 (23/35) Installing c-ares (1.34.6-r0)
#9 659.7 (24/35) Installing libunistring (1.4.1-r0)
#9 663.9 (25/35) Installing libidn2 (2.3.8-r0)
#9 664.5 (26/35) Installing nghttp2-libs (1.68.0-r0)
#9 665.0 (27/35) Installing nghttp3 (1.13.1-r0)
#9 665.4 (28/35) Installing libpsl (0.21.5-r3)
#9 666.1 (29/35) Installing libcurl (8.17.0-r1)
#9 667.2 (30/35) Installing llvm20 (20.1.8-r0)
#9 893.6 (31/35) Installing lz4-libs (1.10.0-r0)
#9 894.2 (32/35) Installing lz4-dev (1.10.0-r0)
#9 894.5 (33/35) Installing zstd (1.5.7-r2)
#9 895.0 (34/35) Installing zstd-dev (1.5.7-r2)
#9 895.8 (35/35) Installing postgresql18-dev (18.1-r0)
#9 907.3 Executing busybox-1.37.0-r30.trigger
#9 907.3 OK: 671.7 MiB in 65 packages
#9 DONE 907.4s

#10 [builder 3/5] WORKDIR /build
#10 DONE 0.1s

#11 [internal] load .dockerignore
#11 transferring context: 185B done
#11 DONE 0.0s

#12 [internal] load build context
#12 transferring context: 2.59MB 0.7s done
#12 DONE 0.7s

#13 [builder 4/5] COPY . .
#13 DONE 51.2s

#14 [builder 5/5] RUN cargo build --release     --locked     --features "server"     && strip --strip-all target/release/synapse-rust     && strip --strip-all target/release/generate_test_keypair
#14 1.261 info: syncing channel updates for '1.93.0-x86_64-unknown-linux-musl'
#14 8.481 info: latest update on 2026-01-22, rust version 1.93.0 (254b59607 2026-01-19)
#14 8.540 info: downloading component 'clippy'
#14 29.09 info: downloading component 'rust-src'
#14 51.14 info: downloading component 'rust-std' for 'x86_64-unknown-linux-gnu'
#14 213.2 info: downloading component 'rustfmt'
#14 229.6 info: installing component 'clippy'
#14 230.0 info: installing component 'rust-src'
#14 230.7 info: installing component 'rust-std' for 'x86_64-unknown-linux-gnu'
#14 233.4 info: installing component 'rustfmt'
#14 234.0     Updating crates.io index
#14 393.2  Downloading crates ...
#14 394.8   Downloaded adler2 v2.0.1
#14 395.4   Downloaded aead v0.5.2
#14 396.4   Downloaded cfg-if v1.0.4
#14 396.4   Downloaded atomic-waker v1.1.2
#14 397.2   Downloaded atoi v2.0.0
#14 397.8   Downloaded block-buffer v0.10.4
#14 398.5   Downloaded const-random v0.1.18
#14 398.5   Downloaded compression-core v0.4.31
#14 399.0   Downloaded dyn-clone v1.0.20
#14 399.0   Downloaded deadpool-postgres v0.12.1
#14 399.0   Downloaded darling_macro v0.21.3
#14 399.0   Downloaded crunchy v0.2.4
#14 399.6   Downloaded const-random-macro v0.1.16
#14 399.6   Downloaded deadpool-redis v0.18.0
#14 399.7   Downloaded crc-catalog v2.4.0
#14 400.0   Downloaded crypto-common v0.1.7
#14 400.7   Downloaded http-body v1.0.1
#14 400.8   Downloaded cpufeatures v0.2.17
#14 400.9   Downloaded httpdate v1.0.3
#14 401.6   Downloaded forwarded-header-value v0.1.1
#14 401.6   Downloaded errno v0.3.14
#14 401.6   Downloaded curve25519-dalek-derive v0.1.1
#14 401.6   Downloaded pathdiff v0.2.3
#14 401.6   Downloaded num-iter v0.1.45
#14 401.6   Downloaded foreign-types v0.3.2
#14 401.6   Downloaded equivalent v1.0.2
#14 401.6   Downloaded futures-task v0.3.31
#14 402.1   Downloaded idna_adapter v1.2.1
#14 402.1   Downloaded mime v0.3.17
#14 402.1   Downloaded json5 v0.4.1
#14 402.5   Downloaded matchers v0.2.0
#14 402.5   Downloaded ident_case v1.0.1
#14 402.6   Downloaded integer-encoding v3.0.4
#14 402.6   Downloaded crossbeam-queue v0.3.12
#14 403.7   Downloaded nonempty v0.7.0
#14 403.7   Downloaded crc v3.4.0
#14 404.6   Downloaded opaque-debug v0.3.1
#14 404.6   Downloaded foreign-types-shared v0.1.1
#14 404.7   Downloaded openssl-probe v0.1.6
#14 404.8   Downloaded nonzero_ext v0.3.0
#14 405.4   Downloaded event-listener-strategy v0.5.4
#14 406.3   Downloaded futures-core v0.3.31
#14 406.6   Downloaded fnv v1.0.7
#14 407.0   Downloaded parking v2.2.1
#14 407.0   Downloaded ordered-float v2.10.1
#14 407.0   Downloaded futures-sink v0.3.31
#14 407.0   Downloaded futures-macro v0.3.31
#14 407.9   Downloaded futures-io v0.3.31
#14 408.0   Downloaded generic-array v0.14.7
#14 408.4   Downloaded hex v0.4.3
#14 408.7   Downloaded arraydeque v0.5.1
#14 409.3   Downloaded heck v0.5.0
#14 409.3   Downloaded hyper-tls v0.6.0
#14 409.7   Downloaded http-range-header v0.4.2
#14 409.8   Downloaded deadpool-runtime v0.1.4
#14 409.8   Downloaded byteorder v1.5.0
#14 409.8   Downloaded autocfg v1.5.0
#14 410.0   Downloaded axum-core v0.5.6
#14 410.2   Downloaded cipher v0.4.4
#14 410.7   Downloaded dlv-list v0.5.2
#14 410.8   Downloaded md-5 v0.10.6
#14 410.8   Downloaded compression-codecs v0.4.36
#14 411.7   Downloaded lazy_static v1.5.0
#14 411.9   Downloaded displaydoc v0.2.5
#14 412.4   Downloaded ed25519 v2.2.3
#14 412.4   Downloaded deadpool v0.10.0
#14 412.7   Downloaded itoa v1.0.17
#14 412.7   Downloaded concurrent-queue v2.5.0
#14 413.0   Downloaded form_urlencoded v1.2.2
#14 413.0   Downloaded deranged v0.5.5
#14 413.1   Downloaded inout v0.1.4
#14 413.1   Downloaded fallible-iterator v0.2.0
#14 413.5   Downloaded either v1.15.0
#14 413.7   Downloaded num-conv v0.2.0
#14 414.0   Downloaded argon2 v0.5.3
#14 414.0   Downloaded num_cpus v1.17.0
#14 414.1   Downloaded convert_case v0.6.0
#14 414.9   Downloaded dotenvy v0.15.7
#14 414.9   Downloaded dashmap v6.1.0
#14 415.3   Downloaded digest v0.10.7
#14 415.9   Downloaded futures-channel v0.3.31
#14 415.9   Downloaded http-body-util v0.1.3
#14 416.0   Downloaded foldhash v0.1.5
#14 416.6   Downloaded openssl-macros v0.1.1
#14 416.6   Downloaded lru v0.16.3
#14 416.7   Downloaded foldhash v0.2.0
#14 416.7   Downloaded futures-executor v0.3.31
#14 416.7   Downloaded find-msvc-tools v0.1.8
#14 417.4   Downloaded futures-timer v3.0.3
#14 417.6   Downloaded num-integer v0.1.46
#14 417.9   Downloaded ghash v0.5.1
#14 417.9   Downloaded nu-ansi-term v0.50.3
#14 418.3   Downloaded percent-encoding v2.3.2
#14 418.4   Downloaded ahash v0.8.12
#14 418.4   Downloaded pem-rfc7468 v0.7.0
#14 418.4   Downloaded pem v3.0.6
#14 418.7   Downloaded axum-macros v0.5.0
#14 418.8   Downloaded ordered-float v4.6.0
#14 419.1   Downloaded base64ct v1.8.3
#14 419.5   Downloaded async-trait v0.1.89
#14 419.7   Downloaded ordered-multimap v0.7.3
#14 419.9   Downloaded password-hash v0.5.0
#14 420.0   Downloaded blake2 v0.10.6
#14 420.0   Downloaded opentelemetry-semantic-conventions v0.13.0
#14 420.0   Downloaded bitflags v2.10.0
#14 420.1   Downloaded hashlink v0.8.4
#14 420.4   Downloaded crc32fast v1.5.0
#14 420.9   Downloaded ipnet v2.11.0
#14 420.9   Downloaded home v0.5.12
#14 421.0   Downloaded crossbeam-utils v0.8.21
#14 421.0   Downloaded crossbeam-epoch v0.9.18
#14 421.2   Downloaded ctr v0.9.2
#14 421.7   Downloaded event-listener v5.4.1
#14 422.2   Downloaded mime_guess v2.0.5
#14 422.2   Downloaded hyper-timeout v0.5.2
#14 422.3   Downloaded deadpool v0.12.3
#14 422.9   Downloaded const-oid v0.9.6
#14 423.6   Downloaded ipnetwork v0.20.0
#14 424.6   Downloaded lock_api v0.4.14
#14 424.6   Downloaded native-tls v0.2.14
#14 424.7   Downloaded phf_shared v0.13.1
#14 424.7   Downloaded glob v0.3.3
#14 424.7   Downloaded pin-utils v0.1.0
#14 424.7   Downloaded iana-time-zone v0.1.65
#14 426.1   Downloaded hyper-rustls v0.27.7
#14 426.5   Downloaded potential_utf v0.1.4
#14 426.6   Downloaded pest_derive v2.8.5
#14 427.0   Downloaded powerfmt v0.2.0
#14 428.2   Downloaded parking_lot v0.12.5
#14 428.9   Downloaded async-lock v3.4.2
#14 429.7   Downloaded parking_lot_core v0.9.12
#14 429.7   Downloaded hashlink v0.10.0
#14 430.2   Downloaded httparse v1.10.1
#14 430.5   Downloaded config v0.14.1
#14 430.7   Downloaded anyhow v1.0.100
#14 431.4   Downloaded darling v0.21.3
#14 431.8   Downloaded futures v0.3.31
#14 431.9   Downloaded matchit v0.8.4
#14 432.2   Downloaded litemap v0.8.1
#14 434.0   Downloaded serde_spanned v0.6.9
#14 434.0   Downloaded pest_generator v2.8.5
#14 434.0   Downloaded getrandom v0.2.17
#14 434.1   Downloaded phf v0.13.1
#14 434.6   Downloaded pin-project-internal v1.1.10
#14 434.6   Downloaded pin-project-lite v0.2.16
#14 434.6   Downloaded pkg-config v0.3.32
#14 434.7   Downloaded pkcs8 v0.10.2
#14 435.2   Downloaded quote v1.0.44
#14 435.2   Downloaded ref-cast-impl v1.0.25
#14 435.8   Downloaded base64 v0.22.1
#14 435.8   Downloaded bytes v1.11.0
#14 436.2   Downloaded allocator-api2 v0.2.21
#14 436.9   Downloaded flate2 v1.1.8
#14 436.9   Downloaded flume v0.11.1
#14 437.4   Downloaded rustversion v1.0.22
#14 437.9   Downloaded serde_path_to_error v0.1.20
#14 438.5   Downloaded pkcs1 v0.7.5
#14 438.5   Downloaded postgres-types v0.2.12
#14 440.5   Downloaded async-compression v0.4.37
#14 441.2   Downloaded crossbeam-channel v0.5.15
#14 441.3   Downloaded darling_core v0.21.3
#14 441.9   Downloaded base64 v0.21.7
#14 441.9   Downloaded arc-swap v1.8.0
#14 442.6   Downloaded rand_chacha v0.3.1
#14 443.8   Downloaded rustls-pki-types v1.14.0
#14 444.0   Downloaded ref-cast v1.0.25
#14 444.8   Downloaded rustc_version v0.4.1
#14 444.8   Downloaded pin-project v1.1.10
#14 444.8   Downloaded pest_meta v2.8.5
#14 444.8   Downloaded getrandom v0.3.4
#14 445.3   Downloaded quanta v0.12.6
#14 445.4   Downloaded scopeguard v1.2.0
#14 445.9   Downloaded serde_urlencoded v0.7.1
#14 446.6   Downloaded once_cell v1.21.3
#14 446.7   Downloaded der v0.7.10
#14 446.7   Downloaded cc v1.2.54
#14 447.5   Downloaded ed25519-dalek v2.2.0
#14 447.7   Downloaded futures-intrusive v0.5.0
#14 448.1   Downloaded ron v0.8.1
#14 448.2   Downloaded icu_properties v2.1.2
#14 449.0   Downloaded serde_derive v1.0.228
#14 449.4   Downloaded hmac v0.12.1
#14 449.4   Downloaded indexmap v1.9.3
#14 449.4   Downloaded icu_provider v2.1.1
#14 449.5   Downloaded sha1 v0.10.6
#14 449.5   Downloaded jsonwebtoken v9.3.1
#14 450.3   Downloaded log v0.4.29
#14 450.3   Downloaded num-traits v0.2.19
#14 450.3   Downloaded sha1_smol v1.0.1
#14 451.4   Downloaded signature v2.2.0
#14 451.4   Downloaded siphasher v1.0.2
#14 451.4   Downloaded miniz_oxide v0.8.9
#14 451.4   Downloaded icu_normalizer v2.1.1
#14 451.5   Downloaded polyval v0.6.2
#14 452.2   Downloaded ppv-lite86 v0.2.21
#14 452.2   Downloaded postgres-protocol v0.6.10
#14 452.3   Downloaded serde_core v1.0.228
#14 452.9   Downloaded rand_core v0.6.4
#14 452.9   Downloaded rand_chacha v0.9.0
#14 452.9   Downloaded rand_core v0.9.5
#14 453.6   Downloaded sha2 v0.10.9
#14 453.6   Downloaded shlex v1.3.0
#14 454.1   Downloaded simple_asn1 v0.6.3
#14 454.1   Downloaded combine v4.6.7
#14 454.2   Downloaded rust-ini v0.20.0
#14 454.2   Downloaded semver v1.0.27
#14 454.8   Downloaded opentelemetry v0.21.0
#14 456.4   Downloaded icu_normalizer_data v2.1.1
#14 457.3   Downloaded sqlx-macros v0.8.6
#14 457.3   Downloaded icu_locale_core v2.1.1
#14 457.4   Downloaded stable_deref_trait v1.2.1
#14 457.9   Downloaded subtle v2.6.1
#14 460.2   Downloaded signal-hook-registry v1.4.8
#14 460.5   Downloaded thiserror-impl v2.0.18
#14 460.5   Downloaded synstructure v0.13.2
#14 460.5   Downloaded stringprep v0.1.5
#14 461.5   Downloaded rand v0.8.5
#14 462.7   Downloaded openssl-sys v0.9.111
#14 462.9   Downloaded spki v0.7.3
#14 462.9   Downloaded thread_local v1.1.9
#14 462.9   Downloaded thiserror v2.0.18
#14 462.9   Downloaded tinystr v0.8.2
#14 462.9   Downloaded time-macros v0.2.27
#14 462.9   Downloaded tokio-macros v2.6.0
#14 463.0   Downloaded tokio-native-tls v0.3.1
#14 465.3   Downloaded aes v0.8.4
#14 466.0   Downloaded minimal-lexical v0.2.1
#14 466.1   Downloaded smallvec v1.15.1
#14 466.1   Downloaded socket2 v0.6.2
#14 466.7   Downloaded spin v0.9.8
#14 468.0   Downloaded toml v0.8.23
#14 468.9   Downloaded proc-macro2 v1.0.106
#14 469.7   Downloaded schemars v0.9.0
#14 469.8   Downloaded ryu v1.0.22
#14 469.8   Downloaded axum v0.8.8
#14 470.4   Downloaded aes-gcm v0.10.3
#14 471.1   Downloaded strsim v0.11.1
#14 471.2   Downloaded sync_wrapper v1.0.2
#14 471.5   Downloaded tagptr v0.2.0
#14 471.9   Downloaded threadpool v1.8.1
#14 472.2   Downloaded time-core v0.1.8
#14 472.6   Downloaded tinyvec_macros v0.1.1
#14 472.7   Downloaded spinning_top v0.3.0
#14 473.1   Downloaded toml_datetime v0.6.11
#14 473.3   Downloaded tower-layer v0.3.3
#14 473.3   Downloaded toml_write v0.1.2
#14 473.8   Downloaded tower-service v0.3.3
#14 474.3   Downloaded rsa v0.9.10
#14 474.3   Downloaded serde v1.0.228
#14 474.3   Downloaded rustls-webpki v0.103.9
#14 474.3   Downloaded aho-corasick v1.1.4
#14 474.8   Downloaded num-bigint v0.4.6
#14 475.3   Downloaded tower_governor v0.8.0
#14 475.3   Downloaded try-lock v0.2.5
#14 475.3   Downloaded tracing-appender v0.2.4
#14 475.5   Downloaded icu_collections v2.1.1
#14 475.7   Downloaded indexmap v2.13.0
#14 475.7   Downloaded universal-hash v0.5.1
#14 476.6   Downloaded slab v0.4.11
#14 476.6   Downloaded simd-adler32 v0.3.8
#14 476.6   Downloaded http v1.4.0
#14 477.6   Downloaded nom v7.1.3
#14 477.7   Downloaded tracing-serde v0.2.0
#14 478.7   Downloaded urlencoding v2.1.3
#14 478.9   Downloaded want v0.3.1
#14 478.9   Downloaded void v1.0.2
#14 478.9   Downloaded version_check v0.9.5
#14 479.7   Downloaded thiserror-impl v1.0.69
#14 479.7   Downloaded thiserror v1.0.69
#14 480.2   Downloaded tiny-keccak v2.0.2
#14 481.2   Downloaded untrusted v0.9.0
#14 481.2   Downloaded zerofrom-derive v0.1.6
#14 481.2   Downloaded mio v1.1.1
#14 482.1   Downloaded hashbrown v0.12.3
#14 482.3   Downloaded memchr v2.7.6
#14 482.4   Downloaded serde_with_macros v3.16.1
#14 482.6   Downloaded writeable v0.6.2
#14 483.2   Downloaded hyper-util v0.1.19
#14 484.1   Downloaded utf8_iter v1.0.4
#14 484.1   Downloaded whoami v1.6.1
#14 484.1   Downloaded web-time v1.1.0
#14 484.2   Downloaded whoami v2.1.0
#14 485.0   Downloaded tracing-log v0.2.0
#14 485.0   Downloaded yoke-derive v0.8.1
#14 485.5   Downloaded zerofrom v0.1.6
#14 485.5   Downloaded unicase v2.9.0
#14 485.5   Downloaded num-bigint-dig v0.8.6
#14 486.3   Downloaded sqlx-macros-core v0.8.6
#14 486.6   Downloaded zeroize_derive v1.4.3
#14 487.2   Downloaded thrift v0.17.0
#14 487.7   Downloaded tokio-rustls v0.26.4
#14 488.3   Downloaded tracing-attributes v0.1.31
#14 489.1   Downloaded schemars v1.2.0
#14 489.2   Downloaded futures-util v0.3.31
#14 489.2   Downloaded pest v2.8.5
#14 489.3   Downloaded ucd-trie v0.1.7
#14 489.7   Downloaded unicode-ident v1.0.22
#14 491.2   Downloaded yoke v0.8.1
#14 492.4   Downloaded sharded-slab v0.1.7
#14 492.4   Downloaded socket2 v0.5.10
#14 492.9   Downloaded zeroize v1.8.2
#14 492.9   Downloaded rand v0.9.2
#14 492.9   Downloaded governor v0.10.4
#14 493.4   Downloaded unicode-properties v0.1.4
#14 494.2   Downloaded tokio-stream v0.1.18
#14 494.2   Downloaded tinyvec v1.10.0
#14 494.8   Downloaded zmij v1.0.17
#14 495.3   Downloaded unicode-bidi v0.3.18
#14 495.3   Downloaded opentelemetry_sdk v0.21.2
#14 496.7   Downloaded uuid v1.20.0
#14 497.3   Downloaded idna v1.1.0
#14 497.9   Downloaded opentelemetry-jaeger v0.20.0
#14 498.5   Downloaded raw-cpuid v11.6.0
#14 499.0   Downloaded sqlx-sqlite v0.8.6
#14 499.0   Downloaded itertools v0.13.0
#14 499.0   Downloaded hashbrown v0.15.5
#14 499.4   Downloaded sqlx-mysql v0.8.6
#14 499.4   Downloaded toml_edit v0.22.27
#14 499.5   Downloaded tokio-postgres v0.7.16
#14 500.1   Downloaded hashbrown v0.14.5
#14 500.5   Downloaded hyper v1.8.1
#14 500.7   Downloaded portable-atomic v1.13.0
#14 501.2   Downloaded iri-string v0.7.10
#14 501.5   Downloaded libm v0.2.16
#14 501.5   Downloaded tracing-core v0.1.36
#14 502.6   Downloaded zerovec-derive v0.11.2
#14 503.1   Downloaded hashbrown v0.16.1
#14 503.1   Downloaded serde_json v1.0.149
#14 503.2   Downloaded hkdf v0.12.4
#14 503.2   Downloaded h2 v0.4.13
#14 503.8   Downloaded icu_properties_data v2.1.2
#14 504.2   Downloaded chrono v0.4.43
#14 505.1   Downloaded reqwest v0.12.28
#14 505.5   Downloaded sqlx-core v0.8.6
#14 506.1   Downloaded elasticsearch v8.15.0-alpha.1
#14 509.7   Downloaded moka v0.12.13
#14 510.2   Downloaded regex v1.12.2
#14 510.3   Downloaded sqlx-postgres v0.8.6
#14 510.3   Downloaded tokio-util v0.7.18
#14 510.3   Downloaded serde_with v3.16.1
#14 512.9   Downloaded curve25519-dalek v4.1.3
#14 513.8   Downloaded openssl v0.10.75
#14 513.8   Downloaded redis v0.27.6
#14 516.5   Downloaded sqlx v0.8.6
#14 517.7   Downloaded time v0.3.47
#14 519.5   Downloaded syn v2.0.114
#14 522.3   Downloaded regex-syntax v0.8.8
#14 524.9   Downloaded rustls v0.23.36
#14 525.2   Downloaded tower v0.5.3
#14 525.9   Downloaded tracing-opentelemetry v0.22.0
#14 525.9   Downloaded tracing v0.1.44
#14 526.2   Downloaded tonic v0.14.3
#14 528.1   Downloaded tower-http v0.6.8
#14 531.2   Downloaded typenum v1.19.0
#14 532.7   Downloaded zerocopy-derive v0.8.35
#14 533.4   Downloaded zerotrie v0.2.3
#14 534.2   Downloaded url v2.5.8
#14 534.6   Downloaded libc v0.2.180
#14 535.5   Downloaded x25519-dalek v2.0.1
#14 538.6   Downloaded unicode-segmentation v1.12.0
#14 540.2   Downloaded unicode-normalization v0.1.25
#14 541.8   Downloaded yaml-rust2 v0.8.1
#14 541.9   Downloaded zerovec v0.11.5
#14 546.2   Downloaded regex-automata v0.4.13
#14 547.8   Downloaded winnow v0.7.14
#14 547.8   Downloaded vcpkg v0.2.15
#14 548.5   Downloaded tracing-subscriber v0.3.22
#14 550.2   Downloaded zerocopy v0.8.35
#14 556.3   Downloaded tokio v1.49.0
#14 566.2   Downloaded encoding_rs v0.8.35
#14 567.2   Downloaded ring v0.17.14
#14 576.4   Downloaded libsqlite3-sys v0.30.1
#14 576.7    Compiling proc-macro2 v1.0.106
#14 576.7    Compiling unicode-ident v1.0.22
#14 576.7    Compiling quote v1.0.44
#14 576.7    Compiling libc v0.2.180
#14 576.9    Compiling cfg-if v1.0.4
#14 577.0    Compiling serde v1.0.228
#14 577.4    Compiling serde_core v1.0.228
#14 577.6    Compiling version_check v0.9.5
#14 578.1    Compiling pin-project-lite v0.2.16
#14 578.3    Compiling typenum v1.19.0
#14 578.8    Compiling generic-array v0.14.7
#14 579.6    Compiling syn v2.0.114
#14 579.6    Compiling parking_lot_core v0.9.12
#14 579.7    Compiling memchr v2.7.6
#14 579.9    Compiling once_cell v1.21.3
#14 580.3    Compiling futures-core v0.3.31
#14 580.7    Compiling getrandom v0.2.17
#14 581.0    Compiling scopeguard v1.2.0
#14 581.2    Compiling allocator-api2 v0.2.21
#14 581.8    Compiling lock_api v0.4.14
#14 582.3    Compiling bytes v1.11.0
#14 582.3    Compiling zerocopy v0.8.35
#14 583.0    Compiling rand_core v0.6.4
#14 583.5    Compiling futures-sink v0.3.31
#14 583.6    Compiling itoa v1.0.17
#14 584.0    Compiling equivalent v1.0.2
#14 584.5    Compiling errno v0.3.14
#14 584.8    Compiling autocfg v1.5.0
#14 584.8    Compiling signal-hook-registry v1.4.8
#14 585.5    Compiling mio v1.1.1
#14 585.5    Compiling socket2 v0.6.2
#14 586.6    Compiling foldhash v0.2.0
#14 587.0    Compiling slab v0.4.11
#14 587.0    Compiling log v0.4.29
#14 587.0    Compiling hashbrown v0.16.1
#14 587.3    Compiling futures-channel v0.3.31
#14 587.4    Compiling pin-utils v0.1.0
#14 587.5    Compiling crypto-common v0.1.7
#14 587.7    Compiling futures-io v0.3.31
#14 587.9    Compiling futures-task v0.3.31
#14 588.1    Compiling tracing-core v0.1.36
#14 589.6    Compiling synstructure v0.13.2
#14 589.6    Compiling indexmap v2.13.0
#14 590.8    Compiling zmij v1.0.17
#14 591.3    Compiling icu_normalizer_data v2.1.1
#14 591.7    Compiling icu_properties_data v2.1.2
#14 592.1    Compiling subtle v2.6.1
#14 592.3    Compiling serde_derive v1.0.228
#14 592.4    Compiling zerofrom-derive v0.1.6
#14 594.0    Compiling yoke-derive v0.8.1
#14 595.7    Compiling zerovec-derive v0.11.2
#14 596.4    Compiling displaydoc v0.2.5
#14 597.6    Compiling tokio-macros v2.6.0
#14 598.0    Compiling tracing-attributes v0.1.31
#14 598.4    Compiling futures-macro v0.3.31
#14 599.4    Compiling percent-encoding v2.3.2
#14 599.8    Compiling serde_json v1.0.149
#14 600.0    Compiling crossbeam-utils v0.8.21
#14 600.5    Compiling zerofrom v0.1.6
#14 600.7    Compiling stable_deref_trait v1.2.1
#14 600.7    Compiling futures-util v0.3.31
#14 600.7    Compiling yoke v0.8.1
#14 601.0    Compiling tracing v0.1.44
#14 601.2    Compiling smallvec v1.15.1
#14 601.8    Compiling num-traits v0.2.19
#14 602.3    Compiling parking_lot v0.12.5
#14 602.8    Compiling tokio v1.49.0
#14 606.2    Compiling zerovec v0.11.5
#14 608.1    Compiling block-buffer v0.10.4
#14 608.2    Compiling base64 v0.22.1
#14 608.3    Compiling digest v0.10.7
#14 608.6    Compiling find-msvc-tools v0.1.8
#14 608.9    Compiling getrandom v0.3.4
#14 609.1    Compiling shlex v1.3.0
#14 609.3    Compiling cpufeatures v0.2.17
#14 609.3    Compiling cc v1.2.54
#14 610.8    Compiling ppv-lite86 v0.2.21
#14 611.0    Compiling bitflags v2.10.0
#14 611.6    Compiling thiserror v2.0.18
#14 612.2    Compiling tinystr v0.8.2
#14 612.4    Compiling http v1.4.0
#14 612.4    Compiling writeable v0.6.2
#14 612.7    Compiling litemap v0.8.1
#14 613.1    Compiling icu_locale_core v2.1.1
#14 615.7    Compiling tokio-util v0.7.18
#14 617.0    Compiling potential_utf v0.1.4
#14 617.2    Compiling zerotrie v0.2.3
#14 617.9    Compiling thiserror-impl v2.0.18
#14 620.1    Compiling icu_provider v2.1.1
#14 620.8    Compiling icu_collections v2.1.1
#14 621.3    Compiling http-body v1.0.1
#14 621.9    Compiling form_urlencoded v1.2.2
#14 622.7    Compiling async-trait v0.1.89
#14 623.0    Compiling ahash v0.8.12
#14 623.3    Compiling tower-service v0.3.3
#14 623.4    Compiling vcpkg v0.2.15
#14 623.4    Compiling pkg-config v0.3.32
#14 624.4    Compiling httparse v1.10.1
#14 624.9    Compiling openssl-sys v0.9.111
#14 625.1    Compiling icu_properties v2.1.2
#14 625.1    Compiling icu_normalizer v2.1.1
#14 626.3    Compiling fnv v1.0.7
#14 626.4    Compiling try-lock v0.2.5
#14 626.5    Compiling atomic-waker v1.1.2
#14 626.6    Compiling httpdate v1.0.3
#14 627.1    Compiling h2 v0.4.13
#14 627.2    Compiling want v0.3.1
#14 627.7    Compiling idna_adapter v1.2.1
#14 628.4    Compiling semver v1.0.27
#14 628.6    Compiling thiserror v1.0.69
#14 628.6    Compiling crunchy v0.2.4
#14 629.0    Compiling utf8_iter v1.0.4
#14 629.1    Compiling tinyvec_macros v0.1.1
#14 629.1    Compiling tinyvec v1.10.0
#14 629.2    Compiling idna v1.1.0
#14 629.3    Compiling rustc_version v0.4.1
#14 630.1    Compiling hashbrown v0.14.5
#14 633.0    Compiling http-body-util v0.1.3
#14 633.5    Compiling rand_core v0.9.5
#14 633.7    Compiling sha2 v0.10.9
#14 633.8    Compiling thiserror-impl v1.0.69
#14 634.0    Compiling sync_wrapper v1.0.2
#14 634.2    Compiling crc32fast v1.5.0
#14 634.5    Compiling mime v0.3.17
#14 635.2    Compiling byteorder v1.5.0
#14 635.3    Compiling tower-layer v0.3.3
#14 635.7    Compiling ipnet v2.11.0
#14 635.7    Compiling tiny-keccak v2.0.2
#14 635.9    Compiling ryu v1.0.22
#14 637.3    Compiling rand_chacha v0.9.0
#14 637.6    Compiling hyper v1.8.1
#14 639.0    Compiling unicode-normalization v0.1.25
#14 642.3    Compiling hyper-util v0.1.19
#14 642.5    Compiling url v2.5.8
#14 644.3    Compiling hmac v0.12.1
#14 644.7    Compiling concurrent-queue v2.5.0
#14 646.4    Compiling zeroize_derive v1.4.3
#14 647.0    Compiling num_cpus v1.17.0
#14 647.3    Compiling foldhash v0.1.5
#14 647.5    Compiling foreign-types-shared v0.1.1
#14 647.6    Compiling parking v2.2.1
#14 647.8    Compiling openssl v0.10.75
#14 648.2    Compiling simd-adler32 v0.3.8
#14 648.2    Compiling unicode-bidi v0.3.18
#14 648.8    Compiling adler2 v2.0.1
#14 649.0    Compiling unicode-properties v0.1.4
#14 649.0    Compiling lazy_static v1.5.0
#14 649.5    Compiling stringprep v0.1.5
#14 649.5    Compiling hashbrown v0.15.5
#14 650.3    Compiling miniz_oxide v0.8.9
#14 652.7    Compiling zeroize v1.8.2
#14 653.0    Compiling event-listener v5.4.1
#14 653.0    Compiling foreign-types v0.3.2
#14 653.9    Compiling rand v0.9.2
#14 654.5    Compiling tower v0.5.3
#14 657.2    Compiling rand_chacha v0.3.1
#14 657.3    Compiling md-5 v0.10.6
#14 657.5    Compiling either v1.15.0
#14 657.6    Compiling openssl-macros v0.1.1
#14 658.1    Compiling aho-corasick v1.1.4
#14 658.4    Compiling ident_case v1.0.1
#14 658.5    Compiling strsim v0.11.1
#14 659.3    Compiling unicase v2.9.0
#14 660.0    Compiling iana-time-zone v0.1.65
#14 660.3    Compiling regex-syntax v0.8.8
#14 660.4    Compiling ucd-trie v0.1.7
#14 661.5    Compiling crc-catalog v2.4.0
#14 661.8    Compiling native-tls v0.2.14
#14 663.1    Compiling crc v3.4.0
#14 666.0    Compiling regex-automata v0.4.13
#14 666.3    Compiling darling_core v0.21.3
#14 670.4    Compiling pest v2.8.5
#14 671.3    Compiling chrono v0.4.43
#14 673.1    Compiling mime_guess v2.0.5
#14 673.6    Compiling tokio-stream v0.1.18
#14 674.5    Compiling rand v0.8.5
#14 675.5    Compiling futures-intrusive v0.5.0
#14 676.1    Compiling flate2 v1.1.8
#14 676.9    Compiling const-random-macro v0.1.16
#14 678.1    Compiling hashlink v0.10.0
#14 678.9    Compiling serde_urlencoded v0.7.1
#14 679.1    Compiling crossbeam-queue v0.3.12
#14 680.3    Compiling ipnetwork v0.20.0
#14 680.6    Compiling num-integer v0.1.46
#14 680.8    Compiling crossbeam-channel v0.5.15
#14 681.8    Compiling compression-core v0.4.31
#14 682.0    Compiling urlencoding v2.1.3
#14 682.3    Compiling time-core v0.1.8
#14 682.8    Compiling uuid v1.20.0
#14 683.2    Compiling rustversion v1.0.22
#14 683.7    Compiling num-conv v0.2.0
#14 683.9    Compiling portable-atomic v1.13.0
#14 683.9    Compiling powerfmt v0.2.0
#14 684.5    Compiling openssl-probe v0.1.6
#14 686.1    Compiling deranged v0.5.5
#14 686.1    Compiling time-macros v0.2.27
#14 686.6    Compiling sqlx-core v0.8.6
#14 689.1    Compiling opentelemetry v0.21.0
#14 690.1    Compiling compression-codecs v0.4.36
#14 690.1    Compiling num-bigint v0.4.6
#14 690.5    Compiling hkdf v0.12.4
#14 690.7    Compiling const-random v0.1.18
#14 692.4    Compiling pest_meta v2.8.5
#14 693.1    Compiling darling_macro v0.21.3
#14 694.2    Compiling atoi v2.0.0
#14 694.4    Compiling curve25519-dalek v4.1.3
#14 694.6    Compiling deadpool-runtime v0.1.4
#14 694.9    Compiling futures-executor v0.3.31
#14 695.6    Compiling inout v0.1.4
#14 695.7    Compiling encoding_rs v0.8.35
#14 696.1    Compiling dotenvy v0.15.7
#14 696.2    Compiling whoami v1.6.1
#14 696.6    Compiling hex v0.4.3
#14 696.8    Compiling home v0.5.12
#14 697.1    Compiling siphasher v1.0.2
#14 697.4    Compiling fallible-iterator v0.2.0
#14 697.6    Compiling time v0.3.47
#14 697.7    Compiling sqlx-postgres v0.8.6
#14 698.3    Compiling postgres-protocol v0.6.10
#14 700.3    Compiling phf_shared v0.13.1
#14 703.8    Compiling cipher v0.4.4
#14 704.1    Compiling darling v0.21.3
#14 704.2    Compiling pest_generator v2.8.5
#14 704.2    Compiling dlv-list v0.5.2
#14 704.9    Compiling async-compression v0.4.37
#14 706.9    Compiling tokio-native-tls v0.3.1
#14 707.2    Compiling matchers v0.2.0
#14 707.5    Compiling sharded-slab v0.1.7
#14 707.9    Compiling axum-core v0.5.6
#14 708.4    Compiling ring v0.17.14
#14 708.8    Compiling raw-cpuid v11.6.0
#14 709.7    Compiling ordered-float v4.6.0
#14 712.0    Compiling tracing-serde v0.2.0
#14 712.2    Compiling serde_spanned v0.6.9
#14 712.3    Compiling toml_datetime v0.6.11
#14 712.4    Compiling universal-hash v0.5.1
#14 712.7    Compiling curve25519-dalek-derive v0.1.1
#14 712.9    Compiling axum-macros v0.5.0
#14 713.2    Compiling pin-project-internal v1.1.10
#14 714.1    Compiling tracing-log v0.2.0
#14 714.8    Compiling serde_path_to_error v0.1.20
#14 715.1    Compiling thread_local v1.1.9
#14 715.7    Compiling heck v0.5.0
#14 715.8    Compiling nu-ansi-term v0.50.3
#14 716.1    Compiling toml_write v0.1.2
#14 716.2    Compiling matchit v0.8.4
#14 716.4    Compiling glob v0.3.3
#14 716.7    Compiling winnow v0.7.14
#14 716.8    Compiling iri-string v0.7.10
#14 717.1    Compiling opaque-debug v0.3.1
#14 717.2    Compiling http-range-header v0.4.2
#14 717.6    Compiling polyval v0.6.2
#14 718.0    Compiling opentelemetry_sdk v0.21.2
#14 718.2    Compiling axum v0.8.8
#14 721.7    Compiling tower-http v0.6.8
#14 723.3    Compiling toml_edit v0.22.27
#14 727.7    Compiling tracing-subscriber v0.3.22
#14 733.3    Compiling sqlx-macros-core v0.8.6
#14 737.1    Compiling pin-project v1.1.10
#14 737.2    Compiling quanta v0.12.6
#14 739.8    Compiling hyper-tls v0.6.0
#14 740.2    Compiling arc-swap v1.8.0
#14 740.9    Compiling pest_derive v2.8.5
#14 741.9    Compiling ordered-multimap v0.7.3
#14 741.9    Compiling serde_with_macros v3.16.1
#14 742.5    Compiling phf v0.13.1
#14 742.9    Compiling postgres-types v0.2.12
#14 743.9    Compiling itertools v0.13.0
#14 744.5    Compiling event-listener-strategy v0.5.4
#14 744.7    Compiling rustls-pki-types v1.14.0
#14 746.1    Compiling threadpool v1.8.1
#14 747.3    Compiling hyper-timeout v0.5.2
#14 747.9    Compiling hashlink v0.8.4
#14 748.0    Compiling dashmap v6.1.0
#14 748.5    Compiling elasticsearch v8.15.0-alpha.1
#14 748.8    Compiling combine v4.6.7
#14 749.1    Compiling ordered-float v2.10.1
#14 749.2    Compiling spinning_top v0.3.0
#14 749.4    Compiling socket2 v0.5.10
#14 749.7    Compiling base64 v0.21.7
#14 750.4    Compiling arraydeque v0.5.1
#14 750.7    Compiling base64ct v1.8.3
#14 750.9    Compiling nonzero_ext v0.3.0
#14 751.1    Compiling minimal-lexical v0.2.1
#14 751.2    Compiling signature v2.2.0
#14 751.4    Compiling futures-timer v3.0.3
#14 751.8    Compiling sha1_smol v1.0.1
#14 752.4    Compiling nonempty v0.7.0
#14 752.4    Compiling web-time v1.1.0
#14 752.6    Compiling unicode-segmentation v1.12.0
#14 753.1    Compiling anyhow v1.0.100
#14 753.7    Compiling untrusted v0.9.0
#14 753.7    Compiling integer-encoding v3.0.4
#14 754.5    Compiling whoami v2.1.0
#14 755.8    Compiling tokio-postgres v0.7.16
#14 760.9    Compiling redis v0.27.6
#14 761.4    Compiling thrift v0.17.0
#14 764.1    Compiling convert_case v0.6.0
#14 764.4    Compiling forwarded-header-value v0.1.1
#14 765.1    Compiling governor v0.10.4
#14 766.0    Compiling nom v7.1.3
#14 766.0    Compiling ed25519 v2.2.3
#14 766.3    Compiling password-hash v0.5.0
#14 767.7    Compiling yaml-rust2 v0.8.1
#14 771.0    Compiling ron v0.8.1
#14 773.6    Compiling tonic v0.14.3
#14 775.6    Compiling reqwest v0.12.28
#14 787.8    Compiling async-lock v3.4.2
#14 789.2    Compiling serde_with v3.16.1
#14 789.3    Compiling rust-ini v0.20.0
#14 790.9    Compiling json5 v0.4.1
#14 791.3    Compiling sqlx-macros v0.8.6
#14 794.7    Compiling toml v0.8.23
#14 794.8    Compiling ghash v0.5.1
#14 794.8    Compiling aes v0.8.4
#14 794.9    Compiling ctr v0.9.2
#14 794.9    Compiling simple_asn1 v0.6.3
#14 795.2    Compiling deadpool v0.12.3
#14 795.8    Compiling deadpool v0.10.0
#14 796.4    Compiling opentelemetry-semantic-conventions v0.13.0
#14 796.6    Compiling pem v3.0.6
#14 796.6    Compiling blake2 v0.10.6
#14 797.5    Compiling crossbeam-epoch v0.9.18
#14 797.5    Compiling aead v0.5.2
#14 797.5    Compiling dyn-clone v1.0.20
#14 797.7    Compiling pathdiff v0.2.3
#14 797.7    Compiling void v1.0.2
#14 797.8    Compiling tagptr v0.2.0
#14 797.9    Compiling config v0.14.1
#14 798.1    Compiling aes-gcm v0.10.3
#14 798.4    Compiling moka v0.12.13
#14 798.4    Compiling argon2 v0.5.3
#14 800.0    Compiling jsonwebtoken v9.3.1
#14 803.3    Compiling opentelemetry-jaeger v0.20.0
#14 805.9    Compiling deadpool-postgres v0.12.1
#14 807.6    Compiling deadpool-redis v0.18.0
#14 808.0    Compiling sqlx v0.8.6
#14 808.4    Compiling tower_governor v0.8.0
#14 808.6    Compiling ed25519-dalek v2.2.0
#14 810.0    Compiling x25519-dalek v2.0.1
#14 810.2    Compiling tracing-appender v0.2.4
#14 810.2    Compiling tracing-opentelemetry v0.22.0
#14 812.4    Compiling futures v0.3.31
#14 812.5    Compiling regex v1.12.2
#14 812.6    Compiling lru v0.16.3
#14 826.5    Compiling synapse-rust v0.1.0 (/build)
#14 1071.5     Finished `release` profile [optimized] target(s) in 13m 57s
#14 DONE 1071.8s

#15 [runtime 5/9] COPY --from=builder /build/target/release/synapse-rust /usr/local/bin/synapse-rust
#15 DONE 0.1s

#16 [runtime 6/9] COPY --from=builder /build/target/release/generate_test_keypair /usr/local/bin/generate_test_keypair
#16 DONE 0.1s

#17 [runtime 7/9] COPY --chown=synapse:synapse docker/config/homeserver.yaml /app/config/homeserver.yaml
#17 DONE 0.1s

#18 [runtime 8/9] RUN chmod 500 /usr/local/bin/synapse-rust &&     chmod 500 /usr/local/bin/generate_test_keypair
#18 DONE 0.3s

#19 [runtime 9/9] WORKDIR /app
#19 DONE 0.1s

#20 exporting to image
#20 exporting layers
#20 exporting layers 1.3s done
#20 exporting manifest sha256:0ca50c722ea6679a2402d7aa07af70e95e49e6ea6d6da9b43eaa6d1bc7064ab2 0.0s done
#20 exporting config sha256:0067e858da73ea5c9c9520adcb9ee5fa0ca13b060a15ae29292956c5369a5283 0.0s done
#20 exporting attestation manifest sha256:ea3ae1b2c6dce76fecb73e6e2791e60194c72064d5c1eed2bcf232c475a6cb6e 0.0s done
#20 exporting manifest list sha256:e0228a1c88269a06a1b62a20af2ce150009c7fd53d7d118234b2ba7e6bf99ca8 0.0s done
#20 naming to docker.io/library/synapse-rust:prod
#20 naming to docker.io/library/synapse-rust:prod done
#20 unpacking to docker.io/library/synapse-rust:prod
#20 unpacking to docker.io/library/synapse-rust:prod 0.3s done
#20 DONE 1.8s
