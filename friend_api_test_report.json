{
  "timestamp": "2026-02-06T23:21:16.135970",
  "total_tests": 13,
  "passed": 13,
  "failed": 0,
  "results": [
    {
      "test_name": "搜索用户",
      "endpoint": "GET http://localhost:8008/_synapse/enhanced/friends/search",
      "expected_code": 200,
      "actual_code": 200,
      "status": "PASS",
      "details": "{\"count\":19,\"results\":[{\"avatar_url\":null,\"display_name\":\"friend_test_3_20260206232115\",\"is_blocked\""
    },
    {
      "test_name": "获取好友列表",
      "endpoint": "GET http://localhost:8008/_synapse/enhanced/friends",
      "expected_code": 200,
      "actual_code": 200,
      "status": "PASS",
      "details": "{\"count\":0,\"friends\":[]}"
    },
    {
      "test_name": "发送好友请求",
      "endpoint": "POST http://localhost:8008/_synapse/enhanced/friend/request",
      "expected_code": 200,
      "actual_code": 200,
      "status": "PASS",
      "details": "{\"request_id\":4,\"status\":\"pending\"}"
    },
    {
      "test_name": "获取好友请求",
      "endpoint": "GET http://localhost:8008/_synapse/enhanced/friend/requests",
      "expected_code": 200,
      "actual_code": 200,
      "status": "PASS",
      "details": "{\"count\":1,\"requests\":[{\"created_ts\":1770391276,\"message\":\"我想加你为好友\",\"request_id\":4,\"sender\":{\"avatar"
    },
    {
      "test_name": "接受好友请求",
      "endpoint": "POST http://localhost:8008/_synapse/enhanced/friend/request/1/accept",
      "expected_code": 200,
      "actual_code": 200,
      "status": "PASS",
      "details": "{\"status\":\"accepted\"}"
    },
    {
      "test_name": "阻止用户",
      "endpoint": "POST http://localhost:8008/_synapse/enhanced/friend/blocks/@friend_test_1_20260206232115:cjystx.top",
      "expected_code": 200,
      "actual_code": 200,
      "status": "PASS",
      "details": "{\"status\":\"blocked\"}"
    },
    {
      "test_name": "获取阻止用户列表",
      "endpoint": "GET http://localhost:8008/_synapse/enhanced/friend/blocks/@friend_test_1_20260206232115:cjystx.top",
      "expected_code": 200,
      "actual_code": 200,
      "status": "PASS",
      "details": "{\"blocked_users\":[\"@friend_test_3_20260206232115:cjystx.top\"]}"
    },
    {
      "test_name": "解除阻止用户",
      "endpoint": "DELETE http://localhost:8008/_synapse/enhanced/friend/blocks/@friend_test_1_20260206232115:cjystx.top/@friend_test_3_20260206232115:cjystx.top",
      "expected_code": 200,
      "actual_code": 200,
      "status": "PASS",
      "details": "{\"status\":\"unblocked\"}"
    },
    {
      "test_name": "创建好友分类",
      "endpoint": "POST http://localhost:8008/_synapse/enhanced/friend/categories/@friend_test_1_20260206232115:cjystx.top",
      "expected_code": 200,
      "actual_code": 200,
      "status": "PASS",
      "details": "{\"category_id\":3}"
    },
    {
      "test_name": "获取好友分类",
      "endpoint": "GET http://localhost:8008/_synapse/enhanced/friend/categories/@friend_test_1_20260206232115:cjystx.top",
      "expected_code": 200,
      "actual_code": 200,
      "status": "PASS",
      "details": "{\"categories\":[{\"color\":\"#FF0000\",\"created_ts\":1770391276,\"id\":3,\"name\":\"测试分类\",\"user_id\":\"@friend_te"
    },
    {
      "test_name": "更新好友分类",
      "endpoint": "PUT http://localhost:8008/_synapse/enhanced/friend/categories/@friend_test_1_20260206232115:cjystx.top/测试分类",
      "expected_code": 200,
      "actual_code": 200,
      "status": "PASS",
      "details": "{\"category_name\":\"测试分类\",\"message\":\"Category updated successfully\",\"status\":\"updated\"}"
    },
    {
      "test_name": "删除好友分类",
      "endpoint": "DELETE http://localhost:8008/_synapse/enhanced/friend/categories/@friend_test_1_20260206232115:cjystx.top/测试分类",
      "expected_code": 200,
      "actual_code": 200,
      "status": "PASS",
      "details": "{\"category_name\":\"测试分类\",\"status\":\"deleted\"}"
    },
    {
      "test_name": "拒绝好友请求",
      "endpoint": "POST http://localhost:8008/_synapse/enhanced/friend/request/2/decline",
      "expected_code": 200,
      "actual_code": 200,
      "status": "PASS",
      "details": "{\"status\":\"declined\"}"
    }
  ]
}